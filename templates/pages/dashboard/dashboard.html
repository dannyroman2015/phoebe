<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/static/css/style.css">
  <script defer src="/static/js/alpinejs_focus.min.js"></script>
  <script defer src="/static/js/alpine.3.13.10.min.js"></script>
  <script src="/static/js/htmx.min.js"></script>
  <script src="/static/js/d3.v7.js"></script>
  <script src="/static/js/plot.js"></script>

  <script src="/static/js/charts/legend.js"></script>
  <script src="/static/js/charts/panelcncchart.js"></script>
  <script src="/static/js/charts/productionchart.js"></script>
  <script src="/static/js/charts/reededlinechart.js"></script>
  <script src="/static/js/charts/veneerchart.js"></script>
  <script src="/static/js/charts/assemblychart.js"></script>
  <script src="/static/js/charts/woodfinishchart.js"></script>
  <script src="/static/js/charts/packchart.js"></script>
  <script src="/static/js/charts/woodrecoverychart.js"></script>
  <script src="/static/js/charts/qualitychart.js"></script>
  <script src="/static/js/charts/sixschart.js"></script>
  <script src="/static/js/charts/finemillchart.js"></script>
  <script src="/static/js/charts/downtimechart.js"></script>
  <script src="/static/js/charts/outputchart.js"></script>
  <script src="/static/js/charts/safetychart.js"></script>
  <script src="/static/js/charts/slicingchart.js"></script>
  <script src="/static/js/charts/whitewoodchart.js"></script>
  <script src="/static/js/charts/rawwoodchart.js"></script>
  <script src="/static/js/charts/planchart.js"></script>
  <script src="/static/js/charts/productionvopchart.js"></script>
  <script src="/static/js/charts/manpowerchart.js"></script>
  <script src="/static/js/charts/otattendchart.js"></script>

  <title>Dashboard</title>
</head>
<body class="bg-gray-100">
  {{ template "navbar" }}
  
<div x-data="{
  bannerVisible: false,
  bannerVisibleAfter: 300,
  }"
    x-show="bannerVisible"
    x-transition:enter="transition ease-out duration-500"
    x-transition:enter-start="translate-y-10"
    x-transition:enter-end="translate-y-0"
    x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="translate-y-0"
    x-transition:leave-end="translate-y-10"
    x-init="
        setTimeout(()=>{ bannerVisible = true }, bannerVisibleAfter);
        setTimeout(()=>{ bannerVisible = false }, 20000);
    "
  class="fixed bottom-0 left-0 w-full h-auto py-2 z-50 duration-300 ease-out bg-white shadow-sm sm:py-0 sm:h-10" x-cloak>
  <div class="flex items-center justify-between w-full h-full px-3 mx-auto max-w-7xl ">
      <a href="#" class="flex flex-col w-full h-full text-xs leading-6 text-black duration-150 ease-out sm:flex-row sm:items-center opacity-80 hover:opacity-100">
          <span class="flex items-center">
              <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g fill="none" stroke="none"><path d="M10.1893 8.12241C9.48048 8.50807 9.66948 9.5633 10.4691 9.68456L13.5119 10.0862C13.7557 10.1231 13.7595 10.6536 13.7968 10.8949L14.2545 13.5486C14.377 14.3395 15.4432 14.5267 15.8333 13.8259L17.1207 11.3647C17.309 11.0046 17.702 10.7956 18.1018 10.8845C18.8753 11.1023 19.6663 11.3643 20.3456 11.4084C21.0894 11.4567 21.529 10.5994 21.0501 10.0342C20.6005 9.50359 20.0352 8.75764 19.4669 8.06623C19.2213 7.76746 19.1292 7.3633 19.2863 7.00567L20.1779 4.92643C20.4794 4.23099 19.7551 3.52167 19.0523 3.82031L17.1037 4.83372C16.7404 4.99461 16.3154 4.92545 16.0217 4.65969C15.3919 4.08975 14.6059 3.39451 14.0737 2.95304C13.5028 2.47955 12.6367 2.91341 12.6845 3.64886C12.7276 4.31093 13.0055 5.20996 13.1773 5.98734C13.2677 6.3964 13.041 6.79542 12.658 6.97364L10.1893 8.12241Z" stroke="currentColor" stroke-width="1.5"></path><path d="M12.1575 9.90759L3.19359 18.8714C2.63313 19.3991 2.61799 20.2851 3.16011 20.8317C3.70733 21.3834 4.60355 21.3694 5.13325 20.8008L13.9787 11.9552" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 6.25V3.75M3.75 5H6.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18 20.25V17.75M16.75 19H19.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>
              <!-- <strong class="font-semibold">Guide</strong><span class="hidden w-px h-4 mx-3 rounded-full sm:block bg-neutral-200"></span> -->
          </span>
          <span class="block pt-1 pb-2 leading-none sm:inline sm:pt-0 sm:pb-0">Rà chuột vào tiêu đề để thay đổi biểu đồ (nếu có). Click để vào trang tổng quan/báo cáo. Nút option góc trên phải dùng cho việc lọc theo ngày. Đồng hồ ở mỗi biểu đồ thể hiện thời gian cập nhật gần đây nhất.</span>
      </a>
      <button @click="bannerVisible=false;" class="flex items-center flex-shrink-0 translate-x-1 ease-out duration-150 justify-center w-6 h-6 p-1.5 text-black rounded-full hover:bg-neutral-100">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-full h-full"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
      </button>
  </div>
</div>

<section>
  <div class="py-4">
    <div class="mx-2 max-w-full text-gray-500">
      <div class="relative">
        <div class="relative z-10 grid gap-3 grid-cols-6">
  
        <!-- Cutting Chart -->
        <div class="col-span-full lg:col-span-3 relative p-2 rounded-xl bg-white border border-gray-200 ">
            <!-- title & control -->
            <div class="flex justify-between">
          <a x-data @mouseover="
                cuttingcharttype.selectedIndex = (cuttingcharttype.selectedIndex + 1) % cuttingcharttype.length;
                cuttingcharttype.dispatchEvent(new Event('input', {bubble: true}));
              "
            href="/sections/cutting/overview" class="mb-1 font-bold hover:underline">
            Cutting
          </a>

          <div class="flex">
            <span class="inline-block">
              <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
                <path strokeLinecap="round" strokeLinejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
              </svg>
            </span>
            <p>&nbsp{{.cuttingUpTime}}</p>
          </div>


          <div class="flex space-x-2">
            <!-- add money -->
            <div x-data="{
              popoverOpen: false,
              popoverArrow: true,
              popoverPosition: 'bottom',
              popoverHeight: 0,
              popoverOffset: 8,
              popoverHeightCalculate() {
                this.$refs.popover.classList.add('invisible'); 
                this.popoverOpen=true; 
                let that=this;
                $nextTick(function(){ 
                  that.popoverHeight = that.$refs.popover.offsetHeight;
                  that.popoverOpen=false; 
                  that.$refs.popover.classList.remove('invisible');
                  that.$refs.popoverInner.setAttribute('x-transition', '');
                  that.popoverPositionCalculate();
                });
              },
              popoverPositionCalculate(){
                if(window.innerHeight < (this.$refs.popoverButton.getBoundingClientRect().top + this.$refs.popoverButton.offsetHeight + this.popoverOffset + this.popoverHeight)){
                  this.popoverPosition = 'top';
                } else {
                  this.popoverPosition = 'bottom';
                }
              }
              }"
              x-init="
                that = this;
                window.addEventListener('resize', function(){
                  popoverPositionCalculate();
                });
                $watch('popoverOpen', function(value){
                  if(value){ popoverPositionCalculate(); }
                });
              "
              class="relative">
          
              <button x-ref="popoverButton" @click="popoverOpen=!popoverOpen" class="flex items-center justify-center w-8 h-8 bg-white border rounded-full shadow-sm cursor-pointer hover:bg-neutral-100 focus-visible:ring-gray-400 focus-visible:ring-2 focus-visible:outline-none active:bg-white border-neutral-200/70">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 2.994v2.25m10.5-2.25v2.25m-14.252 13.5V7.491a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v11.251m-18 0a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25m-18 0v-7.5a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v7.5m-6.75-6h2.25m-9 2.25h4.5m.002-2.25h.005v.006H12v-.006Zm-.001 4.5h.006v.006h-.006v-.005Zm-2.25.001h.005v.006H9.75v-.006Zm-2.25 0h.005v.005h-.006v-.005Zm6.75-2.247h.005v.005h-.005v-.005Zm0 2.247h.006v.006h-.006v-.006Zm2.25-2.248h.006V15H16.5v-.005Z" />
                </svg> 
              </button>
        
              <div x-ref="popover"
                  x-show="popoverOpen"
                  x-init="setTimeout(function(){ popoverHeightCalculate(); }, 100);"
                  x-trap.inert="popoverOpen"
                  @click.away="popoverOpen=false;"
                  @keydown.escape.window="popoverOpen=false"
                  :class="{ 'top-0 mt-12' : popoverPosition == 'bottom', 'bottom-0 mb-1' : popoverPosition == 'top' }"
                  class="absolute z-20 w-[300px] max-w-lg -translate-x-full -translate-y-6" x-cloak>
                <div x-ref="popoverInner" x-show="popoverOpen" class="w-full p-4 bg-white border rounded-md shadow-sm border-neutral-200/70">
                  <div x-show="popoverArrow && popoverPosition == 'bottom'" class="absolute top-0 inline-block w-5 mt-px overflow-hidden -translate-x-2 -translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm"></div></div>
                  <div x-show="popoverArrow  && popoverPosition == 'top'" class="absolute bottom-0 inline-block w-5 mb-px overflow-hidden -translate-x-2 translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm"></div></div>
                  <div class="grid gap-4">
        
                    <form>
                      <div class="flex items-center justify-between pb-3">
                        <h3 class="text-lg font-semibold">Create cutting demand</h3>
                      </div>

                      <div class="p-2 overflow-y-auto">
                        <label for="cuttingdemandname" class="block text-sm font-medium mb-2 dark:text-white">Title or name of demand </label>
                        <input type="text" id="cuttingdemandname" name="cuttingdemandname" placeholder="Ex: October" class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:placeholder-neutral-500 dark:text-neutral-400">
                      </div> 

                      <div class="relative w-auto pb-8">
                        <div class="p-2 overflow-y-auto">
                          <label for="cutingdemanstartdate" class="block text-sm font-medium mb-2 dark:text-white">Start Date</label>
                          <input type="date" id="cutingdemanstartdate" name="cutingdemanstartdate" class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:placeholder-neutral-500 dark:text-neutral-400">
                        </div>

                        <div class="p-2 overflow-y-auto">
                          <label for="cutingdemanenddate" class="block text-sm font-medium mb-2 dark:text-white">End Date</label>
                          <input type="date" id="cutingdemanenddate" name="cutingdemanenddate" class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:placeholder-neutral-500 dark:text-neutral-400">
                        </div>

                        <div class="p-2 overflow-y-auto">
                          <label for="cutting25reededdemand" class="block text-sm font-medium mb-2 dark:text-white">Gỗ 25 Reeded (m3)</label>
                          <input type="number" min="0" step="0.3" id="cutting25reededdemand" name="cutting25reededdemand" placeholder="Vd: 400" class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:placeholder-neutral-500 dark:text-neutral-400">
                        </div>     
                        
                        <div class="p-2 overflow-y-auto">
                          <label for="cuttingothersdemand" class="block text-sm font-medium mb-2 dark:text-white">Gỗ còn lại (m3)</label>
                          <input type="number" min="0" step="0.3" id="cuttingothersdemand" name="cuttingothersdemand" placeholder="Vd: 500" class="py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:placeholder-neutral-500 dark:text-neutral-400">
                        </div>
                        
                      </div>

                      <div class="flex flex-col-reverse sm:flex-row sm:justify-between sm:space-x-2">
                          <button @click="popoverOpen=false" type="button" class="inline-flex items-center justify-center h-10 px-4 py-2 text-sm font-medium transition-colors border rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-100 focus:ring-offset-2">
                            Huy</button>
                          <button hx-post="/sections/cutting/overview/createdemand" hx-target="#cutting-container" hx-swap="innerHTML settle:200ms"
                                  @click="popoverOpen=false;" type="button" class="inline-flex items-center justify-center h-10 px-4 py-2 text-sm font-medium text-white transition-colors border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:ring-offset-2 bg-neutral-950 hover:bg-neutral-900">
                            Ok</button>
                      </div>
                    </form>
        
                  </div>
                </div>
              </div>
            </div>

            <!-- menu popover -->
            <div x-data="{
              popoverOpen: false,
              popoverArrow: true,
              popoverPosition: 'bottom',
              popoverHeight: 0,
              popoverOffset: 8,
              popoverHeightCalculate() {
                this.$refs.popover.classList.add('invisible'); 
                this.popoverOpen=true; 
                let that=this;
                $nextTick(function(){ 
                  that.popoverHeight = that.$refs.popover.offsetHeight;
                  that.popoverOpen=false; 
                  that.$refs.popover.classList.remove('invisible');
                  that.$refs.popoverInner.setAttribute('x-transition', '');
                  that.popoverPositionCalculate();
                });
              },
              popoverPositionCalculate(){
                if(window.innerHeight < (this.$refs.popoverButton.getBoundingClientRect().top + this.$refs.popoverButton.offsetHeight + this.popoverOffset + this.popoverHeight)){
                  this.popoverPosition = 'top';
                } else {
                  this.popoverPosition = 'bottom';
                }
              }
              }"
              x-init="
                that = this;
                window.addEventListener('resize', function(){
                  popoverPositionCalculate();
                });
                $watch('popoverOpen', function(value){
                  if(value){ popoverPositionCalculate(); document.getElementById('cuttingcharttype').focus();  }
                });
              "
              class="relative">

              <button x-ref="popoverButton" @click="popoverOpen=!popoverOpen" class="flex items-center justify-center w-8 h-8 bg-white border rounded-full shadow-sm cursor-pointer hover:bg-neutral-100 focus-visible:ring-gray-400 focus-visible:ring-2 focus-visible:outline-none active:bg-white border-neutral-200/70">
                <svg class="w-4 h-4" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3C4.67157 3 4 3.67157 4 4.5C4 5.32843 4.67157 6 5.5 6C6.32843 6 7 5.32843 7 4.5C7 3.67157 6.32843 3 5.5 3ZM3 5C3.01671 5 3.03323 4.99918 3.04952 4.99758C3.28022 6.1399 4.28967 7 5.5 7C6.71033 7 7.71978 6.1399 7.95048 4.99758C7.96677 4.99918 7.98329 5 8 5H13.5C13.7761 5 14 4.77614 14 4.5C14 4.22386 13.7761 4 13.5 4H8C7.98329 4 7.96677 4.00082 7.95048 4.00242C7.71978 2.86009 6.71033 2 5.5 2C4.28967 2 3.28022 2.86009 3.04952 4.00242C3.03323 4.00082 3.01671 4 3 4H1.5C1.22386 4 1 4.22386 1 4.5C1 4.77614 1.22386 5 1.5 5H3ZM11.9505 10.9976C11.7198 12.1399 10.7103 13 9.5 13C8.28967 13 7.28022 12.1399 7.04952 10.9976C7.03323 10.9992 7.01671 11 7 11H1.5C1.22386 11 1 10.7761 1 10.5C1 10.2239 1.22386 10 1.5 10H7C7.01671 10 7.03323 10.0008 7.04952 10.0024C7.28022 8.8601 8.28967 8 9.5 8C10.7103 8 11.7198 8.8601 11.9505 10.0024C11.9668 10.0008 11.9833 10 12 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H12C11.9833 11 11.9668 10.9992 11.9505 10.9976ZM8 10.5C8 9.67157 8.67157 9 9.5 9C10.3284 9 11 9.67157 11 10.5C11 11.3284 10.3284 12 9.5 12C8.67157 12 8 11.3284 8 10.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
              </button>

              <div x-ref="popover"
                  x-show="popoverOpen"
                  x-init="setTimeout(function(){ popoverHeightCalculate(); }, 100);"
                  x-trap.inert="popoverOpen"
                  @click.away="popoverOpen=false;"
                  @keydown.escape.window="popoverOpen=false"
                  :class="{ 'top-0 mt-12' : popoverPosition == 'bottom', 'bottom-0 mb-1' : popoverPosition == 'top' }"
                  class="absolute w-[300px] z-40 max-w-lg -translate-x-full -translate-y-6" x-cloak>
                <div x-ref="popoverInner" x-show="popoverOpen" class="w-full p-4 bg-white border rounded-md shadow-sm border-neutral-200/70">
                  <div x-show="popoverArrow && popoverPosition == 'bottom'" class="absolute top-0 inline-block w-5 mt-px overflow-hidden -translate-x-2 -translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm"></div></div>
                  <div x-show="popoverArrow  && popoverPosition == 'top'" class="absolute bottom-0 inline-block w-5 mb-px overflow-hidden -translate-x-2 translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm"></div></div>
                  <div class="grid gap-4">
                    <div class="space-y-2">
                      <h4 class="font-medium leading-none">Options</h4>
                      <p class="text-sm text-muted-foreground"></p>
                    </div>
                    <form>
                      <div class="grid gap-2">
                        
                        <div class="grid items-center grid-cols-3 gap-4">
                          <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="width">
                            Chart
                          </label>
                          <div class="col-span-2 w-full">
                            <select @change="popoverOpen=!popoverOpen;"
                              hx-post="/dashboard/cutting/getchart" hx-trigger="input" hx-target="#cutting-container" hx-swap="innerHTML settle:200ms"
                              name="cuttingcharttype" id="cuttingcharttype" class="mt-1.5 w-full rounded-lg border-gray-300 text-gray-700 sm:text-sm">
                              <option value="general">General</option>
                              <option value="efficiency">Efficiency</option>
                              <option value="woodtype">WoodType</option>
                            </select>
                          </div>
                        </div>

                        <div class="grid items-center grid-cols-3 gap-4">
                          <label for="cuttingFromDate" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                            From Date
                          </label>
                          <input hx-post="/dashboard/cutting/getchart" hx-trigger="input" hx-target="#cutting-container" hx-swap="innerHTML settle:200ms"
                            type="date" id="cuttingFromDate" name="cuttingFromDate" value="" class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                        </div>

                        <div class="grid items-center grid-cols-3 gap-4">
                          <label for="cuttingToDate" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                            To Date
                          </label>
                          <input hx-post="/dashboard/cutting/getchart" hx-trigger="input" hx-target="#cutting-container" hx-swap="innerHTML settle:200ms"
                            type="date" id="cuttingToDate" name="cuttingToDate" value="" class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                        </div>
        
                        <!-- <div class="grid items-center grid-cols-3 gap-4">
                          <label for="cuttinglimit" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                            Limit
                          </label>
                          <input id="cuttinglimit" name="cuttinglimit" value="20" class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                        </div> -->
                      
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
      
        </div>

        <!-- chart -->
         <div id="cutting-container">
          {{template "cuttingchart" .}}
         </div>
        
        </div>
        <!-- end Cutting Chart -->

        <!-- Production Chart -->
        <div hx-get="/dashboard/loadproduction" hx-trigger="load" hx-target="this" hx-swap="outerHTML settle:200ms"></div>         
        <!-- end Production Chart -->

        <!-- Lamination Chart -->
        <div class="fade-in col-span-full lg:col-span-3 relative p-2 rounded-xl bg-white border border-gray-200">
          <!-- title & control -->
          <div class="flex justify-between">
            <a x-data @mouseover="
                laminationcharttype.selectedIndex = (laminationcharttype.selectedIndex + 1) % laminationcharttype.length;
                laminationcharttype.dispatchEvent(new Event('input', {bubble: true}));
              "
              href="/sections/lamination/overview" class="mb-1 font-bold hover:underline">
              Lamination
            </a>
        
            <div class="flex">
              <span class="inline-block">
                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
              </span>
              <p>&nbsp{{.laminationUpTime}}</p>
            </div>

            <!-- menu popover -->
            <div x-data="{
              popoverOpen: false,
              popoverArrow: true,
              popoverPosition: 'bottom',
              popoverHeight: 0,
              popoverOffset: 8,
              popoverHeightCalculate() {
                this.$refs.popover.classList.add('invisible'); 
                this.popoverOpen=true; 
                let that=this;
                $nextTick(function(){ 
                  that.popoverHeight = that.$refs.popover.offsetHeight;
                  that.popoverOpen=false; 
                  that.$refs.popover.classList.remove('invisible');
                  that.$refs.popoverInner.setAttribute('x-transition', '');
                  that.popoverPositionCalculate();
                });
              },
              popoverPositionCalculate(){
                if(window.innerHeight < (this.$refs.popoverButton.getBoundingClientRect().top + this.$refs.popoverButton.offsetHeight + this.popoverOffset + this.popoverHeight)){
                  this.popoverPosition = 'top';
                } else {
                  this.popoverPosition = 'bottom';
                }
              }
              }"
              x-init="
                that = this;
                window.addEventListener('resize', function(){
                  popoverPositionCalculate();
                });
                $watch('popoverOpen', function(value){
                  if(value){ popoverPositionCalculate(); document.getElementById('laminationcharttype').focus();  }
                });
              "
              class="relative">
          
              <button x-ref="popoverButton" @click="popoverOpen=!popoverOpen" class="flex items-center justify-center w-8 h-8 bg-white border rounded-full shadow-sm cursor-pointer hover:bg-neutral-100 focus-visible:ring-gray-400 focus-visible:ring-2 focus-visible:outline-none active:bg-white border-neutral-200/70">
                <svg class="w-4 h-4" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3C4.67157 3 4 3.67157 4 4.5C4 5.32843 4.67157 6 5.5 6C6.32843 6 7 5.32843 7 4.5C7 3.67157 6.32843 3 5.5 3ZM3 5C3.01671 5 3.03323 4.99918 3.04952 4.99758C3.28022 6.1399 4.28967 7 5.5 7C6.71033 7 7.71978 6.1399 7.95048 4.99758C7.96677 4.99918 7.98329 5 8 5H13.5C13.7761 5 14 4.77614 14 4.5C14 4.22386 13.7761 4 13.5 4H8C7.98329 4 7.96677 4.00082 7.95048 4.00242C7.71978 2.86009 6.71033 2 5.5 2C4.28967 2 3.28022 2.86009 3.04952 4.00242C3.03323 4.00082 3.01671 4 3 4H1.5C1.22386 4 1 4.22386 1 4.5C1 4.77614 1.22386 5 1.5 5H3ZM11.9505 10.9976C11.7198 12.1399 10.7103 13 9.5 13C8.28967 13 7.28022 12.1399 7.04952 10.9976C7.03323 10.9992 7.01671 11 7 11H1.5C1.22386 11 1 10.7761 1 10.5C1 10.2239 1.22386 10 1.5 10H7C7.01671 10 7.03323 10.0008 7.04952 10.0024C7.28022 8.8601 8.28967 8 9.5 8C10.7103 8 11.7198 8.8601 11.9505 10.0024C11.9668 10.0008 11.9833 10 12 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H12C11.9833 11 11.9668 10.9992 11.9505 10.9976ZM8 10.5C8 9.67157 8.67157 9 9.5 9C10.3284 9 11 9.67157 11 10.5C11 11.3284 10.3284 12 9.5 12C8.67157 12 8 11.3284 8 10.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
              </button>
        
              <div x-ref="popover"
                  x-show="popoverOpen"
                  x-init="setTimeout(function(){ popoverHeightCalculate(); }, 100);"
                  x-trap.inert="popoverOpen"
                  @click.away="popoverOpen=false;"
                  @keydown.escape.window="popoverOpen=false"
                  :class="{ 'top-0 mt-12' : popoverPosition == 'bottom', 'bottom-0 mb-1' : popoverPosition == 'top' }"
                  class="absolute z-20 w-[300px] max-w-lg -translate-x-full -translate-y-6" x-cloak>
                <div x-ref="popoverInner" x-show="popoverOpen" class="w-full p-4 bg-white border rounded-md shadow-sm border-neutral-200/70">
                  <div x-show="popoverArrow && popoverPosition == 'bottom'" class="absolute top-0 inline-block w-5 mt-px overflow-hidden -translate-x-2 -translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm"></div></div>
                  <div x-show="popoverArrow  && popoverPosition == 'top'" class="absolute bottom-0 inline-block w-5 mb-px overflow-hidden -translate-x-2 translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm"></div></div>
                  <div class="grid gap-4">
                    <div class="space-y-2">
                      <h4 class="font-medium leading-none">Options</h4>
                      <p class="text-sm text-muted-foreground"></p>
                    </div>
                    <form>
                      <div class="grid gap-2">

                        <div class="grid items-center grid-cols-3 gap-4">
                          <label for="laminationcharttype" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                              Chart
                          </label>
                          <div class="col-span-2 w-full">
                              <select @change="popoverOpen=!popoverOpen;"
                                  hx-post="/dashboard/lamination/getchart" hx-trigger="input" hx-target="#lamination-container" hx-swap="innerHTML settle:200ms"
                                  name="laminationcharttype" id="laminationcharttype" class="mt-1.5 w-full rounded-lg border-gray-300 text-gray-700 sm:text-sm">
                                  <option value="general">General</option>
                                  <option value="efficiency">Efficiency</option>
                              </select>
                          </div>
                        </div>

                        <div class="grid items-center grid-cols-3 gap-4">
                          <label for="laminationFromDate" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                            From Date
                          </label>
                          <input hx-post="/dashboard/lamination/getchart" hx-trigger="input" hx-target="#lamination-container" hx-swap="innerHTML settle:200ms"
                            type="date" id="laminationFromDate" name="laminationFromDate" value="" class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                        </div>
    
                        <div class="grid items-center grid-cols-3 gap-4">
                          <label for="laminationToDate" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                            To Date
                          </label>
                          <input hx-post="/dashboard/lamination/getchart" hx-trigger="input" hx-target="#lamination-container" hx-swap="innerHTML settle:200ms"
                            type="date" id="laminationToDate" name="laminationToDate" value="" class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                        </div>

                        <!-- <div class="grid items-center grid-cols-3 gap-4"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="height">label</label><input class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="height" value="25px"></div>
                        <div class="grid items-center grid-cols-3 gap-4"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="maxHeight">label</label><input class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="maxHeight" value="none"></div> -->
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
        
          </div>
        
          <!-- chart -->
           <div id="lamination-container">
             {{template "lamination" .}}
           </div>
        </div>
        <!-- end Lamination Chart -->

        <!-- pack -->
        <div hx-get="/dashboard/loadpack" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end pack -->
     
        <!-- Reededline chart -->
        <div hx-get="/dashboard/loadreededline" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Reededline -->
      
        <!-- WoodFinishing -->
        <div hx-get="/dashboard/loadwoodfinish" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end WoodFinishing -->
     
        <!-- Reeded Output -->
        <div hx-get="/dashboard/loadoutput" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Reeded Output -->    

        <!-- Assembly -->
        <div hx-get="/dashboard/loadassembly" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Assembly -->

         <!-- Slicing -->
         <div hx-get="/dashboard/loadslicing" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
         <!-- end Slicing -->
        
        <!-- White Wood -->
        <div hx-get="/dashboard/loadwhitewood" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end White Wood -->

        <!-- Finemill -->
        <!-- <div hx-get="/dashboard/loadfinemill" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div> -->
        <!-- end Finemill -->

        <!-- Veneer -->
        <div hx-get="/dashboard/loadveneer" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Veneer -->

        <!-- Packing Chart -->
        <!-- <div class="col-span-full lg:col-span-3 relative p-2 rounded-xl bg-white border border-gray-200 dark:border-gray-800 dark:bg-gray-900">
          <div class="flex justify-between">
            <a href="/sections/packing/overview" class="mb-1 font-bold hover:underline">
              Packing</a>

            <div x-data="{
              popoverOpen: false,
              popoverArrow: true,
              popoverPosition: 'bottom',
              popoverHeight: 0,
              popoverOffset: 8,
              popoverHeightCalculate() {
                this.$refs.popover.classList.add('invisible'); 
                this.popoverOpen=true; 
                let that=this;
                $nextTick(function(){ 
                  that.popoverHeight = that.$refs.popover.offsetHeight;
                  that.popoverOpen=false; 
                  that.$refs.popover.classList.remove('invisible');
                  that.$refs.popoverInner.setAttribute('x-transition', '');
                  that.popoverPositionCalculate();
                });
              },
              popoverPositionCalculate(){
                if(window.innerHeight < (this.$refs.popoverButton.getBoundingClientRect().top + this.$refs.popoverButton.offsetHeight + this.popoverOffset + this.popoverHeight)){
                  this.popoverPosition = 'top';
                } else {
                  this.popoverPosition = 'bottom';
                }
              }
              }"
              x-init="
                that = this;
                window.addEventListener('resize', function(){
                  popoverPositionCalculate();
                });
                $watch('popoverOpen', function(value){
                  if(value){ popoverPositionCalculate(); document.getElementById('width').focus();  }
                });
              "
              class="relative">
          
              <button x-ref="popoverButton" @click="popoverOpen=!popoverOpen" class="flex items-center justify-center w-8 h-8 bg-white border rounded-full shadow-sm cursor-pointer hover:bg-neutral-100 focus-visible:ring-gray-400 focus-visible:ring-2 focus-visible:outline-none active:bg-white border-neutral-200/70">
                <svg class="w-4 h-4" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3C4.67157 3 4 3.67157 4 4.5C4 5.32843 4.67157 6 5.5 6C6.32843 6 7 5.32843 7 4.5C7 3.67157 6.32843 3 5.5 3ZM3 5C3.01671 5 3.03323 4.99918 3.04952 4.99758C3.28022 6.1399 4.28967 7 5.5 7C6.71033 7 7.71978 6.1399 7.95048 4.99758C7.96677 4.99918 7.98329 5 8 5H13.5C13.7761 5 14 4.77614 14 4.5C14 4.22386 13.7761 4 13.5 4H8C7.98329 4 7.96677 4.00082 7.95048 4.00242C7.71978 2.86009 6.71033 2 5.5 2C4.28967 2 3.28022 2.86009 3.04952 4.00242C3.03323 4.00082 3.01671 4 3 4H1.5C1.22386 4 1 4.22386 1 4.5C1 4.77614 1.22386 5 1.5 5H3ZM11.9505 10.9976C11.7198 12.1399 10.7103 13 9.5 13C8.28967 13 7.28022 12.1399 7.04952 10.9976C7.03323 10.9992 7.01671 11 7 11H1.5C1.22386 11 1 10.7761 1 10.5C1 10.2239 1.22386 10 1.5 10H7C7.01671 10 7.03323 10.0008 7.04952 10.0024C7.28022 8.8601 8.28967 8 9.5 8C10.7103 8 11.7198 8.8601 11.9505 10.0024C11.9668 10.0008 11.9833 10 12 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H12C11.9833 11 11.9668 10.9992 11.9505 10.9976ZM8 10.5C8 9.67157 8.67157 9 9.5 9C10.3284 9 11 9.67157 11 10.5C11 11.3284 10.3284 12 9.5 12C8.67157 12 8 11.3284 8 10.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
              </button>
      
              <div x-ref="popover"
                  x-show="popoverOpen"
                  x-init="setTimeout(function(){ popoverHeightCalculate(); }, 100);"
                  x-trap.inert="popoverOpen"
                  @click.away="popoverOpen=false;"
                  @keydown.escape.window="popoverOpen=false"
                  :class="{ 'top-0 mt-12' : popoverPosition == 'bottom', 'bottom-0 mb-1' : popoverPosition == 'top' }"
                  class="absolute w-[300px] max-w-lg -translate-x-full -translate-y-6" x-cloak>
                <div x-ref="popoverInner" x-show="popoverOpen" class="w-full p-4 bg-white border rounded-md shadow-sm border-neutral-200/70">
                  <div x-show="popoverArrow && popoverPosition == 'bottom'" class="absolute top-0 inline-block w-5 mt-px overflow-hidden -translate-x-2 -translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm"></div></div>
                  <div x-show="popoverArrow  && popoverPosition == 'top'" class="absolute bottom-0 inline-block w-5 mb-px overflow-hidden -translate-x-2 translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm"></div></div>
                  <div class="grid gap-4">
                    <div class="space-y-2">
                      <h4 class="font-medium leading-none">Title</h4>
                      <p class="text-sm text-muted-foreground">Placeholder for future change.</p>
                    </div>
                    <div class="grid gap-2">
                      <div class="grid items-center grid-cols-3 gap-4">
                        <label for="width" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                          label
                        </label>
                        <input id="width" value="100%" class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50">
                      </div>
                      <div class="grid items-center grid-cols-3 gap-4"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="maxWidth">label</label><input class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="maxWidth" value="300px"></div>
                      <div class="grid items-center grid-cols-3 gap-4"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="height">label</label><input class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="height" value="25px"></div>
                      <div class="grid items-center grid-cols-3 gap-4"><label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70" for="maxHeight">label</label><input class="flex w-full h-8 col-span-2 px-3 py-2 text-sm bg-transparent border rounded-md border-input ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-neutral-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" id="maxHeight" value="none"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>

          <div class="mt-4">
            template "packingchart" .
          </div>
        </div> -->
        <!-- end Packing Chart -->

        <!-- Panelcnc -->
        <div hx-get="/dashboard/loadpanelcnc" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Panelcnc -->  

        <!-- producttion VOP chart -->
        <div hx-get="/dashboard/loadproductionvop" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end producttion VOP -->

        <!-- quality -->
        <div hx-get="/dashboard/loadquality" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end quality -->

        <!-- wood recovery -->
        <div hx-get="/dashboard/loadwoodrecovery" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end wood recovery -->

        <!-- Raw wood Chart -->
        <div hx-get="/dashboard/loadrawwood" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Raw wood Chart --> 

        <!-- downtime -->
        <div hx-get="/dashboard/loaddowntime" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end downtime -->

        <!-- Safety Chart -->
        <div hx-get="/dashboard/loadsafety" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end Safety Chart -->

        <!-- SixS chart -->
        <div hx-get="/dashboard/loadsixs" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end SixS -->  

        <!-- OT-Attend Chart -->
        <div hx-get="/dashboard/loadotattend" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end OT-Attend Chart --> 

        <!-- test thu -->
        <!-- value plan -->
        <div hx-get="/dashboard/loadplan" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end plan -->

        <!-- HR Status chart -->
        <div hx-get="/dashboard/loadmanpower" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML settle:200ms"></div>
        <!-- end HR Status -->

          <!-- <div class="col-span-full sm:col-span-3 lg:col-span-2 overflow-hidden relative p-8 rounded-xl bg-white border border-gray-200 dark:border-gray-800 dark:bg-gray-900">

          </div>
          <div class="col-span-full sm:col-span-3 lg:col-span-2 overflow-hidden relative p-8 rounded-xl bg-white border border-gray-200 dark:border-gray-800 dark:bg-gray-900">
            
          </div>
          <div class="col-span-full lg:col-span-3 overflow-hidden relative p-8 rounded-xl bg-white border border-gray-200 dark:border-gray-800 dark:bg-gray-900">

          </div>
          <div class="col-span-full lg:col-span-3 overflow-hidden relative p-8 rounded-xl bg-white border border-gray-200 dark:border-gray-800 dark:bg-gray-900">

          </div>              -->
        </div>
      </div>
    </div>
  </div>
  <svg height="5" width="5" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="diffpattern" patternUnits="userSpaceOnUse" width="5" height="5"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc1JyBoZWlnaHQ9JzUnPgogIDxyZWN0IHdpZHRoPSc1JyBoZWlnaHQ9JzUnIGZpbGw9J3doaXRlJy8+CiAgPHBhdGggZD0nTTAgNUw1IDBaTTYgNEw0IDZaTS0xIDFMMSAtMVonIHN0cm9rZT0nIzg4OCcgc3Ryb2tlLXdpZHRoPScxJy8+Cjwvc3ZnPg==" x="0" y="0" width="5" height="5"> </image> </pattern> </defs> </svg></section>
</body>
</html>

<style>
  .fade-in.htmx-added {
    opacity: 0;
  }
  .fade-in {
    opacity: 1;
    transition: opacity 1s ease-in;
  }
</style>

<script>
  document.getElementById("cuttingToDate").valueAsDate = new Date();
  document.getElementById("cuttingFromDate").valueAsDate = new Date(Date.now() - 15*86400000);
  document.getElementById("laminationToDate").valueAsDate = new Date();
  document.getElementById("laminationFromDate").valueAsDate = new Date(Date.now() - 15*86400000);
</script>